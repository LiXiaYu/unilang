() newline;

$defl! log (x) (display x; () newline);
$defl! logd (x) (log "DEBUG:"; log x);

logd "Loading script ...";

$def! MyWidget make-class QWidget ($lambda (self)
(
	logd "[ctor] MyWidget";
	$set! self hello list "Hallo Welt" "Hei maailma" "Hola Mundo" "Привет мир";
	$set! self button make-QPushButton "Click me!";
	$set! self text make-QLabel "Hello World!" Qt.AlignCenter;
	$set! self layout () make-QVBoxLayout;
	$import! self setLayout text button layout;
	QLayout-addWidget layout text;
	QLayout-addWidget layout button;
	setLayout (QWidget-of self) layout
));

$def! app () make-QApplication;
$def! wgt make-object MyWidget;
QWidget-resize (QWidget-of wgt) 800 600;
QWidget-show (QWidget-of wgt);
sys.exit (() QApplication-exec);

